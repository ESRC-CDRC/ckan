this.ckan=this.ckan||{},function(u,e){var s={events:e({}),queue:null,publish:function(u){return s.queue?s.queue.push([].slice.call(arguments)):s.events.triggerHandler(u,[].slice.call(arguments,1)),this},subscribe:function(u,n){function i(){return n.apply(this,[].slice.call(arguments,1))}return e.isPlainObject(u)?(e.each(u,e.proxy(s.subscribe,this)),this):(i.guid=n.guid=n.guid||(e.guid+=1),s.events.on(u,i),this)},unsubscribe:function(u,e){return s.events.off(u,arguments),this},enqueue:function(){return s.queue||(s.queue=[]),this},dequeue:function(){if(s.queue){var u=s.queue,e=0,n=u.length;for(s.queue=null;n>e;e+=1)s.publish.apply(s,u[e])}return this}};u.pubsub=s,u.sandbox.extend({publish:s.publish,subscribe:s.subscribe,unsubscribe:s.unsubscribe})}(this.ckan,this.jQuery);